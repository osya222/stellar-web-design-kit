
// Map of product images for different categories and product types
export const productImages = {
  // Лосось
  "Лосось (Чили)": {
    default: "https://shopprodukt.ru/upload/iblock/acd/acdf4783cc62ac6819d55dc029479800.jpg",
    "5-6 кг": "https://shopprodukt.ru/upload/iblock/acd/acdf4783cc62ac6819d55dc029479800.jpg",
    "6-7 кг": "https://shopprodukt.ru/upload/iblock/acd/acdf4783cc62ac6819d55dc029479800.jpg",
    "7-8 кг": "https://shopprodukt.ru/upload/iblock/acd/acdf4783cc62ac6819d55dc029479800.jpg",
    "Филе лосося": "https://shopprodukt.ru/upload/iblock/778/778c00d53a2ddf7242fc8ad3fb01029a.jpg"
  },
  // Форель
  "Форель (Турция)": {
    default: "https://shopprodukt.ru/upload/iblock/737/7377ffdd0f22e5cfb9182cb5d74064a7.jpg",
    "1,3-1,8 кг": "https://shopprodukt.ru/upload/iblock/737/7377ffdd0f22e5cfb9182cb5d74064a7.jpg",
    "1,8-2,7 кг": "https://shopprodukt.ru/upload/iblock/737/7377ffdd0f22e5cfb9182cb5d74064a7.jpg",
    "2,7-3,6 кг": "https://shopprodukt.ru/upload/iblock/737/7377ffdd0f22e5cfb9182cb5d74064a7.jpg",
    "Стейк форели": "https://shopprodukt.ru/upload/iblock/018/0184cc12645c3d0b6edb887e74d2b3d8.jpg",
    "Филе форели": "https://shopprodukt.ru/upload/iblock/279/2795f8c53be2f93c0c3051711485cfdb.jpg"
  },
  // Креветки
  "Креветки и морепродукты": {
    default: "https://shopprodukt.ru/upload/iblock/26e/26e293e587b37abd59f202cabf8c07a2.png",
    "Креветка": "https://shopprodukt.ru/upload/iblock/26e/26e293e587b37abd59f202cabf8c07a2.png",
    "Лангустины": "https://shopprodukt.ru/upload/iblock/8cd/8cd5909349808e4098538714e92cf0de.jpg",
    "Медальоны": "https://shopprodukt.ru/upload/iblock/156/156af1204def413d85e0a4ae1b26b51f.jpg",
    "Мясо мидий": "https://shopprodukt.ru/upload/iblock/9a4/9a448d2696ae921ae0b801eff324046f.jpg",
    "Осьминог": "https://shopprodukt.ru/upload/iblock/517/517027fee7542c9f49c1601afa5e05cf.jpg",
    "Кальмары": "https://shopprodukt.ru/upload/iblock/3e2/3e2841f2ae4219414bc696de36502061.jpg",
    "Мидии": "https://shopprodukt.ru/upload/iblock/9a4/9a448d2696ae921ae0b801eff324046f.jpg",
    "Устрицы": "https://shopprodukt.ru/upload/iblock/558/5583a3f16c4732890dc379b184534c79.jpg",
    "Гребешки": "https://shopprodukt.ru/upload/iblock/d8a/d8a558498dd7a0dae85e3d243a436099.jpg", 
    "Раки": "https://shopprodukt.ru/upload/iblock/46c/46c2347ca0c4874b2ca9270df5c20b30.jpg"
  },
  // Другие виды рыбы
  "Другие виды рыбы": {
    default: "https://shopprodukt.ru/upload/iblock/b82/b822fe5773a655c22045e123be08523d.jpg",
    "Сорадо": "https://shopprodukt.ru/upload/iblock/e8f/e8fcd1979e9d3a9a90d01901172b4cb6.jpg",
    "Сибас": "https://shopprodukt.ru/upload/iblock/e8f/e8fcd1979e9d3a9a90d01901172b4cb6.jpg",
    "Сельдь": "https://shopprodukt.ru/upload/iblock/a05/a0581750ce9b0280240f4a26ad718b5e.jpg",
    "Скумбрия": "https://shopprodukt.ru/upload/iblock/c75/c75da782030ec301db8c244e112f435a.jpg",
    "Кек тунца": "https://shopprodukt.ru/upload/iblock/270/270f64ed0a574cf432b3af39a9fb94c9.jpg",
    "Камбала": "https://shopprodukt.ru/upload/iblock/fef/fef70245f8dc8f76f455450edeb1f887.jpg",
    "Окунь": "https://shopprodukt.ru/upload/iblock/d93/d93ce0fbbb6edcf70696d9b781a207b4.jpg",
    "Минтай": "https://shopprodukt.ru/upload/iblock/c86/c8623854985a0a357f8fb6f3670b7c16.jpg",
    "Тунец": "https://shopprodukt.ru/upload/iblock/270/270f64ed0a574cf432b3af39a9fb94c9.jpg",
    "Филе пангасиуса": "https://shopprodukt.ru/upload/iblock/b82/b822fe5773a655c22045e123be08523d.jpg",
    "Филе тилапии": "https://shopprodukt.ru/upload/iblock/4ce/4ce8b45cd00776a0612e954d57cc4978.jpg",
    "Филе трески": "https://shopprodukt.ru/upload/iblock/2ef/2ef6530f6e73d883cd271e984675a340.jpg",
    "Филе пикши": "https://shopprodukt.ru/upload/iblock/e53/e53f539665a8c445bb2dc701792f0e9c.jpg",
    "Дорадо": "https://shopprodukt.ru/upload/iblock/c03/c0361a28d382d6bfc99d767f856ae86e.jpg",
    "Палтус": "https://shopprodukt.ru/upload/iblock/28c/28c7bdb6f2e1983a2d6dc3d48a7e37db.jpg",
    "Карп": "https://shopprodukt.ru/upload/iblock/6df/6df081f7f780eb2bb4dff0faa4db1051.jpg",
    "Щука": "https://shopprodukt.ru/upload/iblock/b22/b22672278ffc9073eb3dbf357eb1db2a.jpg"
  },
  // Полуфабрикаты
  "Полуфабрикаты": {
    default: "https://shopprodukt.ru/upload/iblock/577/5772fd747e3b4a0f31b117e96cb595ae.jpg",
    "Котлеты": "https://shopprodukt.ru/upload/iblock/577/5772fd747e3b4a0f31b117e96cb595ae.jpg",
    "Пельмени": "https://shopprodukt.ru/upload/iblock/6b6/6b60e9a2683517eb6fbd9c6fc5293bf2.jpg",
    "Палочки": "https://shopprodukt.ru/upload/iblock/bca/bca991cfa3e7b715f08d606d4b8006ec.jpg",
    "Рыбные биточки": "https://shopprodukt.ru/upload/iblock/577/5772fd747e3b4a0f31b117e96cb595ae.jpg",
    "Рыбные наггетсы": "https://shopprodukt.ru/upload/iblock/3b1/3b1d5ae3f20bb3dec05eb44c5898440c.jpg",
    "Рыбные фрикадельки": "https://shopprodukt.ru/upload/iblock/b49/b49e4a5a6e31a095a207cb27ee704dca.jpg"
  },
  // Икра
  "Икра": {
    default: "https://shopprodukt.ru/upload/iblock/ff3/ff37e79de7210be647e82e399c66b12d.jpg",
    "Икра красная": "https://shopprodukt.ru/upload/iblock/ff3/ff37e79de7210be647e82e399c66b12d.jpg",
    "Икра черная": "https://shopprodukt.ru/upload/iblock/c31/c31a063bf88ecd94fe87a49e17f43a7c.jpg",
    "Икра щучья": "https://shopprodukt.ru/upload/iblock/b57/b57a6a5fa90c1b4c8d5171a009a711af.jpg"
  },
  // Консервы
  "Консервы": {
    default: "https://shopprodukt.ru/upload/iblock/b9c/b9c1d31c7f6fd15b624ad3ac9e193b40.jpg",
    "Тунец": "https://shopprodukt.ru/upload/iblock/619/619bdcc94925120c1094da8d9c653735.jpg",
    "Сардины": "https://shopprodukt.ru/upload/iblock/9d2/9d2de508c9318de7aa910a8ab4162aec.jpg",
    "Шпроты": "https://shopprodukt.ru/upload/iblock/b9c/b9c1d31c7f6fd15b624ad3ac9e193b40.jpg"
  },
  // Деликатесы
  "Деликатесы": {
    default: "https://shopprodukt.ru/upload/iblock/f1e/f1ebef656209d974d65239a547b57518.jpg",
    "Копченый лосось": "https://shopprodukt.ru/upload/iblock/f1e/f1ebef656209d974d65239a547b57518.jpg",
    "Вяленая рыба": "https://shopprodukt.ru/upload/iblock/8d5/8d5f75f7d6468b5aa47698e05cb36e59.jpg",
    "Балык": "https://shopprodukt.ru/upload/iblock/f1e/f1ebef656209d974d65239a547b57518.jpg"
  }
};

// Function to get the appropriate image URL for a product
export function getProductImage(product: { category: string; name: string; size?: string }): string {
  // Safe category access with type checking
  const categoryImages = productImages[product.category as keyof typeof productImages];
  
  if (!categoryImages) {
    console.log(`No images found for category: ${product.category}`);
    return "https://shopprodukt.ru/upload/iblock/acd/acdf4783cc62ac6819d55dc029479800.jpg"; // Default fallback
  }

  // Check for specific product name matches
  for (const [key, url] of Object.entries(categoryImages)) {
    if (key !== 'default' && product.name.toLowerCase().includes(key.toLowerCase())) {
      return url as string;
    }
  }
  
  // Check for size match if available
  if (product.size && categoryImages[product.size as keyof typeof categoryImages]) {
    return categoryImages[product.size as keyof typeof categoryImages] as string;
  }

  // Return default category image
  return categoryImages.default as string;
}

// Helper function to check if an image URL is valid (can be used client-side)
export async function isImageUrlValid(url: string): Promise<boolean> {
  return new Promise((resolve) => {
    const img = new Image();
    img.onload = () => resolve(true);
    img.onerror = () => resolve(false);
    img.src = url;
  });
}
