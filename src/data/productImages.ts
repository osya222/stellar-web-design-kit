
// Map of product images for different categories and product types
export const productImages = {
  // Лосось
  "Лосось (Чили)": {
    default: "https://seafood-shop.ru/upload/iblock/d73/d731e748e1c243318344595e7dd2cafa.jpg",
    "5-6 кг": "https://seafood-shop.ru/upload/iblock/a05/a05a00e3d0694e0db39b2df0108e5b81.jpg",
    "6-7 кг": "https://seafood-shop.ru/upload/iblock/b69/b69515f7c09743a4a10e93604b8c63df.jpg",
    "7-8 кг": "https://seafood-shop.ru/upload/iblock/3af/3af3f0cd2a1226c292e5b908b3da7d20.jpg",
    "Филе лосося": "https://seafood-shop.ru/upload/iblock/5c2/5c2e7f25ff014661a34057a7635fa1e4.jpg"
  },
  // Форель
  "Форель (Турция)": {
    default: "https://seafood-shop.ru/upload/iblock/08a/08a4c6a935a0ed33e08e3fb9f5d747e5.jpg",
    "1,3-1,8 кг": "https://seafood-shop.ru/upload/iblock/6e5/6e57e5309211a61d21d48da7a2d58692.jpg",
    "1,8-2,7 кг": "https://seafood-shop.ru/upload/iblock/f3f/f3fa1460bfd7fc3aeb04af303b5c6c86.jpg",
    "2,7-3,6 кг": "https://seafood-shop.ru/upload/iblock/636/636548f92485413e287573c669d66149.jpg",
    "Стейк форели": "https://seafood-shop.ru/upload/iblock/ba3/ba3427fc93a2b41fa33413a661f4e443.jpg",
    "Филе форели": "https://seafood-shop.ru/upload/iblock/6ce/6ce8db7a0b1873ef0ec3ad620968a760.jpg"
  },
  // Креветки
  "Креветки и морепродукты": {
    default: "https://seafood-shop.ru/upload/iblock/987/9874bfea750650f5d75486521c639dc8.jpg",
    "Креветка": "https://seafood-shop.ru/upload/iblock/0c8/0c854481ee957e11c2f5cc7dedfa2c47.jpg",
    "Лангустины": "https://seafood-shop.ru/upload/iblock/c7f/c7fcb114ba98928da95897b89a393bfc.jpg",
    "Медальоны": "https://seafood-shop.ru/upload/iblock/5ad/5ad807ab1b18497ae80af0b36779cd26.jpg",
    "Мясо мидий": "https://seafood-shop.ru/upload/iblock/e2f/e2f607016c778d4a0a55aa6726d1dd96.jpg",
    "Осьминог": "https://seafood-shop.ru/upload/iblock/88b/88b29e4eebf061cd9d439b4ec76ff5e7.jpg",
    "Кальмары": "https://seafood-shop.ru/upload/iblock/443/443f9261702b49c5cc5305a3fbd91f13.jpg",
    "Мидии": "https://seafood-shop.ru/upload/iblock/ab2/ab2466c1b1dfbf02ba37c9fcc0e66fdc.jpg",
    "Устрицы": "https://seafood-shop.ru/upload/iblock/08e/08ef22cb55883199d63b5b7531a4adf4.jpg",
    "Гребешки": "https://seafood-shop.ru/upload/iblock/bb9/bb9dbe29e2c6156623d107d3cfb50c86.jpg",
    "Раки": "https://seafood-shop.ru/upload/iblock/e85/e85a0481ad2b13ccbbb2304a0e11792f.jpg"
  },
  // Другие виды рыбы
  "Другие виды рыбы": {
    default: "https://seafood-shop.ru/upload/iblock/1bd/1bd80fbcb91dcd25486672e2cc4db623.jpg",
    "Сорадо": "https://seafood-shop.ru/upload/iblock/be1/be141ca6c863b66578fc045a346984a5.jpg",
    "Сибас": "https://seafood-shop.ru/upload/iblock/937/937666e672a74365b4b31072b7ec6904.jpg",
    "Сельдь": "https://seafood-shop.ru/upload/iblock/330/33064abbad488701de9c4763bbe01788.jpg",
    "Скумбрия": "https://seafood-shop.ru/upload/iblock/b69/b6911f809aabcbf82a7d514472a8130c.jpg",
    "Кек тунца": "https://seafood-shop.ru/upload/iblock/e94/e947083d52fe417bd131a9c9e962d911.jpg",
    "Камбала": "https://seafood-shop.ru/upload/iblock/f24/f247f7dc1a19650064d650891b558aae.jpg",
    "Окунь": "https://seafood-shop.ru/upload/iblock/603/6033c4d0ebad2b7be8c0e13626e4fc30.jpg",
    "Минтай": "https://seafood-shop.ru/upload/iblock/35a/35a6c5e8f69ed8c5561ddd8e5aead19d.jpg",
    "Тунец": "https://seafood-shop.ru/upload/iblock/db5/db5ab1eb0f639dd6ea8d7ff7e9ccb06a.jpg",
    "Филе пангасиуса": "https://seafood-shop.ru/upload/iblock/9c4/9c491ad84e940bd87d3495f3fc22973d.jpg",
    "Филе тилапии": "https://seafood-shop.ru/upload/iblock/e84/e84ac32af551ed543de8d9577cb2293a.jpg",
    "Филе трески": "https://seafood-shop.ru/upload/iblock/cbe/cbedb1ccf416a6384d16ec202f2c4670.jpg",
    "Филе пикши": "https://seafood-shop.ru/upload/iblock/0f7/0f77094866b33e9b48152d68497fa7ef.jpg",
    "Дорадо": "https://seafood-shop.ru/upload/iblock/9ea/9eabef9b95301650befcc9380d3ea2c4.jpg",
    "Палтус": "https://seafood-shop.ru/upload/iblock/1c1/1c15435ac9ab49713d3d1c0d7cbabe22.jpg",
    "Карп": "https://seafood-shop.ru/upload/iblock/489/489a506537c659c5af778a0d29bfe30c.jpg",
    "Щука": "https://seafood-shop.ru/upload/iblock/5ce/5cee29979bd0c3bd4d8e685c05808d14.jpg"
  },
  // Полуфабрикаты
  "Полуфабрикаты": {
    default: "https://seafood-shop.ru/upload/iblock/174/1749b3d9d1a7edf79b3b3a7981390a29.jpg",
    "Котлеты": "https://seafood-shop.ru/upload/iblock/309/3096cd33f0a21e3b53d60dcaaabf2857.jpg",
    "Пельмени": "https://seafood-shop.ru/upload/iblock/6d2/6d2ce6cb5256054df565893b614767c6.jpg",
    "Палочки": "https://seafood-shop.ru/upload/iblock/384/38490503e46a5c32da85f07667305af0.jpg",
    "Рыбные биточки": "https://seafood-shop.ru/upload/iblock/18a/18a23d707120eb52fe155f374d364315.jpg",
    "Рыбные наггетсы": "https://seafood-shop.ru/upload/iblock/2ca/2ca8d3438dfa112dc199bd649b2d51cc.jpg",
    "Рыбные фрикадельки": "https://seafood-shop.ru/upload/iblock/9fc/9fc4416b17b60aae3132f8173f95e263.jpg"
  },
  // Икра
  "Икра": {
    default: "https://seafood-shop.ru/upload/iblock/fe6/fe6d5ceb2d9b4285b5b0364269bcd985.jpg",
    "Икра красная": "https://seafood-shop.ru/upload/iblock/d7a/d7a05307bac8c760f35acefde3d6dbd3.jpg",
    "Икра черная": "https://seafood-shop.ru/upload/iblock/38d/38dc164b5ef17232c9b253a93f3dba8b.jpg",
    "Икра щучья": "https://seafood-shop.ru/upload/iblock/599/599a354c21d6cc60c05c24f8ea7f2f9c.jpg"
  },
  // Консервы
  "Консервы": {
    default: "https://seafood-shop.ru/upload/iblock/f4a/f4a2a391ebd2bf951beb2f4ac78024f4.jpg",
    "Тунец": "https://seafood-shop.ru/upload/iblock/07b/07b2ee780cd9e51f6d2654cfb9e5993d.jpg",
    "Сардины": "https://seafood-shop.ru/upload/iblock/5ad/5ad7fe3c48b91bb1bd867a6b6a2d6e8c.jpg",
    "Шпроты": "https://seafood-shop.ru/upload/iblock/9bc/9bc34853ac0a2031eca8acf0752bb384.jpg"
  },
  // Деликатесы
  "Деликатесы": {
    default: "https://seafood-shop.ru/upload/iblock/ec8/ec87e9b5ca4e50fe28b3a0affd7b891c.jpg",
    "Копченый лосось": "https://seafood-shop.ru/upload/iblock/1d8/1d8119ea9ebbac956fa990535807e270.jpg",
    "Вяленая рыба": "https://seafood-shop.ru/upload/iblock/ae8/ae807f2cdd100a20af425d64352196c3.jpg",
    "Балык": "https://seafood-shop.ru/upload/iblock/cda/cdaceeef243b0c4c213fe65bcefd02e1.jpg"
  }
};

// Function to get the appropriate image URL for a product
export function getProductImage(product: { category: string; name: string; size?: string }): string {
  // Safe category access with type checking
  const categoryImages = productImages[product.category as keyof typeof productImages];
  
  if (!categoryImages) {
    console.log(`No images found for category: ${product.category}`);
    return "https://seafood-shop.ru/upload/iblock/1bd/1bd80fbcb91dcd25486672e2cc4db623.jpg"; // Default fallback
  }

  // Check for specific product name matches
  for (const [key, url] of Object.entries(categoryImages)) {
    if (key !== 'default' && product.name.toLowerCase().includes(key.toLowerCase())) {
      return url as string;
    }
  }
  
  // Check for size match if available
  if (product.size && categoryImages[product.size as keyof typeof categoryImages]) {
    return categoryImages[product.size as keyof typeof categoryImages] as string;
  }

  // Return default category image
  return categoryImages.default as string;
}

// Helper function to check if an image URL is valid (can be used client-side)
export async function isImageUrlValid(url: string): Promise<boolean> {
  return new Promise((resolve) => {
    const img = new Image();
    img.onload = () => resolve(true);
    img.onerror = () => resolve(false);
    img.src = url;
  });
}
